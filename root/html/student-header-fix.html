<!DOCTYPE html>
<html>
  <head>
    <script src="https://kit.fontawesome.com/a39233b32c.js" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css2?family=Bungee&family=Lato&display=swap" rel="stylesheet">
    <title>Home Page</title>
    <link rel="stylesheet" href="../css/labtech-student-header-fix.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  </head>
  <body>
    <div class="homepage">
      <!-- Header -->
      <div class="header">
        <div class="left-section">
          <button id="hamburger-icon"><i class="fa-solid fa-bars" ></i></button>
          <div class="logo" onclick="location.href = 'student-homepage.html'" style="margin-top: 2px;">
            UniL
            <i class="fa-solid fa-flask" 
              style="font-size: 20px; 
              margin-bottom: 1px;  
              color: #2A4E77;
              margin-top:-1px;"></i>
            <i class="fa-solid fa-blog" 
              style="font-size: 26px; 
              margin-bottom: 7px; 
              color: #2A4E77; 
              margin-right: 10px;
              margin-top:-1px;"></i>
            <span id="booking-logo-design">Booking</span>
          </div>

        </div>

        <div class="middle-section">
          <input class="search-bar" type="text" placeholder="Search" aria-label="Search">
          <button class="search-button" aria-label="Search">
            <i class="fa-solid fa-magnifying-glass"></i>
          </button>
        </div>

        <div class="right-section">
            <i class="fa-solid fa-circle-user"></i>
        </div>

        <div id="check-profile">
          <div class="profile-pic-name-container">
            <i class="fa-solid fa-circle-user" 
              style=" font-size: 50px; 
              margin-left: 20px;"></i>
            <p>Name</p>
          </div>    
          
          <button class="check-profile-buttons js-account-settings"             
            data-action="account-settings">
            <i class="fa-solid fa-gear"></i>
            Account Settings
          </button>
          <button class="check-profile-buttons">
            <i class="fa-solid fa-arrow-right-from-bracket"></i>
            Sign out
          </button>
        </div>

        <div id="check-account-setting">
          <button class="back-to-prof-dropdown" data-action="back-to-profile">
            &lt; Back
          </button>
         
          <button class="check-profile-buttons" onclick="location.href = 'student-profile.html'">
            <i class="fa-regular fa-user" style="margin-right: 21px;" ></i>
            View Profile
          </button>
          <button class="check-profile-buttons"
          onclick="location.href = 'student-edit-profile.html'">
            <i class="fa-solid fa-user-pen"></i>
            Edit Profile
          </button>
          <button class="check-profile-buttons">
            <i class="fa-solid fa-shield-halved" style="margin-right: 17px;"></i>
            Security
          </button>
        </div>
      </div>

      <!-- Sidebar -->
      <div class="sidebar">
        <div class="sidebar-link Home-button"
        onclick="location.href = 'student-homepage.html'">
          <i class="fa-solid fa-house"></i>
          <p id="home-label">Home</p>
        </div>

        <div class="sidebar-link" style="margin-top: 5px;"
        onclick="location.href = 'student-calendar.html'"> 
          <i class="fa-regular fa-calendar"></i>
          <p id="calendar-label">Calendar</p>
        </div>

        <div class="sidebar-link" style="margin-top: 2px;"
        onclick="location.href='student-help-support.html'">
          <i class="fa-solid fa-circle-info"></i>
          <p id="help-label">Help</p>
        </div>
      </div>

      <div id="extended-sidebar">
        <div class="extended-sidebar-link Home-button"
        onclick="location.href = 'labtech-homepage.html'">
          <i class="fa-solid fa-house"></i>
          <p id="home-label">Home</p>
        </div>

        <div class="extended-sidebar-link" style="margin-top: 3px;"
        onclick="location.href = 'labtech-calendar.html'">
          <i class="fa-regular fa-calendar"></i>
          <p id="calendar-label">Calendar</p>
        </div>

        <div class="extended-sidebar-link"
        onclick="location.href = 'labtech-help-support.html'">
          <i class="fa-solid fa-circle-info"></i>
          <p id="help-label">Help</p>
        </div>
      </div>
      <div class="overlay"></div>
    </div>
   
    <script>
      $(document).ready(function () {
    // Toggle profile dropdown
    $(".right-section").on("click", function (e) {
      e.stopPropagation(); // Prevent event from bubbling up
      console.log('Toggling profile dropdown');
      $("#check-profile").toggleClass("visible");
      $("#check-account-setting").removeClass("visible");
    });
  
    // Toggle account settings dropdown
    $(".js-account-settings").on("click", function (e) {
      e.stopPropagation(); // Prevent event from bubbling up
      console.log('Toggling account settings dropdown');
      $("#check-profile").removeClass("visible");
      $("#check-account-setting").toggleClass("visible");
    });
  
    // Handle "Back" button in account settings
    $("[data-action='back-to-profile']").on("click", function (e) {
      e.stopPropagation(); // Prevent event from bubbling up
      console.log('Back to profile');
      $("#check-account-setting").removeClass("visible");
      $("#check-profile").toggleClass("visible");
    });
  
    // Close dropdowns when clicking outside
    $(document).on("click", function () {
    console.log('Closing dropdowns');
    $("#check-profile").removeClass("visible");
    $("#check-account-setting").removeClass("visible");
    $("#extended-sidebar").removeClass("visible");
    $(".overlay").removeClass("visible");
  });

  // Prevent dropdowns from closing when clicking inside them
  $("#check-profile, #check-account-setting").on("click", function (e) {
    e.stopPropagation();
  });



 // Toggle sidebar on hamburger icon click
 $("#hamburger-icon").on("click", function (e) {
    e.stopPropagation(); // Prevent event from bubbling up
    console.log('Toggling hamburger icon');
    $("#extended-sidebar").toggleClass("visible");
    $(".overlay").toggleClass("visible");
  });
  });
  
     </script>
  </body>
</html>
