<!DOCTYPE html>
<html>
  <head>
    <script src="https://kit.fontawesome.com/a39233b32c.js" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel='stylesheet'>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <title>Reservation List</title>
    <link rel="stylesheet" href="../css/labtech-reservation-list.css">

  </head>
  <body>
    <div id="header-sidebar"></div>

      <!-- Content Section -->
      <div class="content-section">
        <div style="margin-top: 10px;">
          <h1 id="reservation-list-title">Reservation List</h1>
        </div>

        <div class="inner-section">
          <div class="list-details">
            <form id="details">
              <div class="form-group options">
                <label for="building" class="form-label">Building</label>
                <select class="form-select mb-3" id="building" required>
                  <option selected>Choose...</option>
                  <option value="1">LS Hall</option>
                  <option value="2">Yuchengco</option>
                  <option value="3">Velasco</option>
                  <option value="4">Miguel</option>
                  <option value="5">Gokongwei</option>
                  <option value="6">Andrew</option>
                </select>
              </div>

              <div class="form-group options">
                <label for="lab" class="form-label">Lab</label>
                <select class="form-select mb-3" id="lab" required>
                  <option selected>Choose...</option>
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5</option>
                  <option value="6">6</option>
                  <option value="7">7</option>
                  <option value="8">8</option>
                  <option value="9">9</option>
                </select>
              </div>

              <div class="mb-3 options">
                <label for="date" class="form-label">Reserve Date</label>
                <input type="date" class="form-control" id="date" required>
              </div>

              <div class="buttons">
                <button type="submit" id="view-list" class="btn btn-primary">Filter</button>
              </div>
            </form>
          </div>

          <div class="list-container overflow-y-auto full-vh" >
            <!-- item 1 -->
            <div class="card reserve-item">
              <div class ="row g-0" style="align-items: center;">
                <div class="col-pfp">
                  <img class="mr-3 list-img" src="../images/default_profilepic.jpg" alt="Juan De La Cruz">
                </div>
                <div class="col res-details-container">
                  <div class="card-body reserve-details">
                    <h5 class="card-title"><strong>Juan De La Cruz</strong></h5>
                    <ul class="list-group list-group-flush">
                      <li class="list-group-item">7:30 AM - 9:30 AM</li>
                      <li class="list-group-item">Seat 25</li>
                    </ul>
                  </div>
                </div>
                <div class="col-buttons">
                  <button type= class="btn">
                    <i class="fa-regular fa-pen-to-square"></i></button>
                  <button class="btn submit-delete"><i class="fa-solid fa-trash"></i></button>
                </div>
              </div>
            </div>

            <!-- item 2 -->
            <div class="card reserve-item">
              <div class ="row g-0" style="align-items: center;">
                <div class="col-pfp">
                  <img class="mr-3 list-img" src="../images/default_profilepic.jpg" alt="John Torres">
                </div>
                <div class="col res-details-container">
                  <div class="card-body reserve-details">
                    <h5 class="card-title"><strong>John Torres</strong></h5>
                    <ul class="list-group list-group-flush">
                      <li class="list-group-item">10:00 AM - 10:30 AM</li>
                      <li class="list-group-item">Seat 14</li>
                    </ul>
                  </div>
                </div>
                <div class="col-buttons">
                  <button class="btn"><i class="fa-regular fa-pen-to-square"></i></button>
                  <button class="btn submit-delete"><i class="fa-solid fa-trash"></i></button>
                </div>
              </div>
            </div>

            <!-- item 3-->
            <div class="card reserve-item">
              <div class ="row g-0" style="align-items: center;">
                <div class="col-pfp">
                  <img class="mr-3 list-img" src="../images/default_profilepic.jpg" alt="Maria Sanchez">
                </div>
                <div class="col res-details-container">
                  <div class="card-body reserve-details">
                    <h5 class="card-title"><strong>Maria Sanchez</strong></h5>
                    <ul class="list-group list-group-flush">
                      <li class="list-group-item">12:00 PM - 1:30 PM</li>
                      <li class="list-group-item">Seat 5</li>
                    </ul>
                  </div>
                </div>
                <div class="col-buttons">
                  <button class="btn"><i class="fa-regular fa-pen-to-square"></i></button>
                  <button class="btn submit-delete"><i class="fa-solid fa-trash"></i></button>
                </div>
              </div>
            </div>

            <!-- item 4 -->
            <div class="card reserve-item">
              <div class ="row g-0" style="align-items: center;">
                <div class="col-pfp">
                  <img class="mr-3 list-img" src="../images/default_profilepic.jpg" alt="Anna Garcia">
                </div>
                <div class="col res-details-container">
                  <div class="card-body reserve-details">
                    <h5 class="card-title"><strong>Anna Garcia</strong></h5>
                    <ul class="list-group list-group-flush">
                      <li class="list-group-item">2:00 PM - 3:00 PM</li>
                      <li class="list-group-item">Seat 12</li>
                    </ul>
                  </div>
                </div>
                <div class="col-buttons">
                  <button class="btn"><i class="fa-regular fa-pen-to-square"></i></button>
                  <button class="btn submit-delete"><i class="fa-solid fa-trash"></i></button>
                </div>
              </div>
            </div>

            <!-- item 5-->
            <div class="card reserve-item">
              <div class ="row g-0" style="align-items: center;">
                <div class="col-pfp">
                  <img class="mr-3 list-img" src="../images/default_profilepic.jpg" alt="Thomas Sy">
                </div>
                <div class="col res-details-container">
                  <div class="card-body reserve-details">
                    <h5 class="card-title"><strong>Thomas Sy</strong></h5>
                    <ul class="list-group list-group-flush">
                      <li class="list-group-item">4:00 PM - 5:00 PM</li>
                      <li class="list-group-item">Seat 20</li>
                    </ul>
                  </div>
                </div>
                <div class="col-buttons">
                  <button class="btn"><i class="fa-regular fa-pen-to-square"></i></button>
                  <button class="btn submit-delete"><i class="fa-solid fa-trash"></i></button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

        <div class="modal fade" id="confirm-delete" tabindex="-1" role="dialog" aria-labelledby="confirm-delete-label" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="confirm-delete-label">Confirm Deletion</h5>
              </div>
              <div class="modal-body">
                Are you sure you want to delete this reservation?
              </div>
              <div class="modal-footer">
                <button type="submit" class="btn btn-primary" id="confirm-btn">Yes</button>
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" id="no-confirm">No</button>
              </div>
            </div>
          </div>
        </div>

        <div class="modal fade" id="delete-success" tabindex="-1" aria-labelledby="delete-success-label" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="delete-success-label">Success</h5>
              </div>
              <div class="modal-body text-center">
                Reservation deleted successfully.
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-success" data-bs-dismiss="modal">OK</button>
              </div>
            </div>
          </div>
        </div>
        <div class="back-button">
          <a href='labtech-calendar.html'><button type="button" class="btn btn-primary">Back</button></a>
        </div>
      <div id="footer"></div>

    <!-- javascript stuff -->
    <script>
      // Function to load a component
      function loadComponent(componentId, filePath, callback) {
          fetch(filePath)
            .then(response => response.text())
            .then(data => {
              $("#" + componentId).html(data);
              if (typeof callback === "function") {
                callback();
              }
            })
            .catch(error => console.error('Error loading component:', error));
        }
      // Load header and sidebar
      loadComponent('header-sidebar', 'labtech-header-fix.html');
      loadComponent('footer', 'fixed-footer.html');

      const confirmDeleteSubmit = $('.submit-delete');

      confirmDeleteSubmit.on("click", function () {
        var confirmModal = new bootstrap.Modal(document.getElementById('confirm-delete'));
        confirmModal.show();

        // When "Yes" is clicked
        $('#confirm-btn').off('click').on("click", function () {
          confirmModal.hide(); // Hide the confirmation modal

          setTimeout(() => {
            var successModal = new bootstrap.Modal(document.getElementById('delete-success'));
            successModal.show();

            $('#delete-success .btn-success').off('click').on("click", function () {
              location.reload();
            });
          }, 500);
        });
        $('#no-confirm').off('click').on("click", function () {
          confirmModal.hide();
        })
      });
    </script>

  </body>
</html>
